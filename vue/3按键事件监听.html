<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="vue1026.js"></script>
<style>
    #tb {
        width: 800px;
        border-collapse: collapse;
        margin: 0 auto;
    }

    #tb th, td {
        border: 1px solid black;
        text-align: center;
    }

    #tb th {
        background: cornflowerblue;
    }

    .input {
        margin-left: 20%;
        margin-bottom: 40px;
    }


</style>
<body>

<div id="app">
    <div class="input">
        <input type="text" v-model="id">
        <!--修改为当按回车键时进行数据添加-->
        <input type="text" v-model="name" v-on:keydown.enter='add_item' v-on:keydown.f2="add_item">
        <input type="button" value="add" v-on:click="add_item" style="width: 40px">
        <input type="text" placeholder="请输入筛选条件" v-model="sname">
    </div>

    <table id="tb">
        <tr id="header">
            <th>id</th>
            <th>name</th>
            <th>time</th>
            <th>delete</th>
        </tr>
        <template v-for="item in items | filterBy sname in 'name'">
            <tr id="body">
                <td>{{item.id}}</td>
                <td>{{item.name}}</td>
                <td>{{item.time}}</td>
                <td><a href="#" @click="delete_item(item.id)">delete</a></td>
            </tr>
        </template>
    </table>
</div>


</body>
<script>
    Vue.config.devtools = true;
    // 打印Vue自带的一按键代码
    console.log(Vue.directive('on').keyCodes);

    //添加自定义按键修饰符
    Vue.directive('on').keyCodes.f2 = 113;

    // 在Vue2.0中查看Vue中自带的按键修饰符代码
    // Vue.config.keyCodes
    // 设置按键修饰符的方式Vue.config.keyCodes.f2 = 113

    var vm = new Vue({
        el: "#app",
        data: {

            name: "",
            id: 0,
            sname: "",
            items: [
                {
                    name: "香茗",
                    id: "1",
                    time: new Date(),
                },
                {
                    name: "想好",
                    id: "2",
                    time: new Date()
                }
            ]
        },
        methods: {
            add_item: function () {
                this.items.push({name: this.name, id: this.id, time: new Date()});
                this.name = "";
                this.id = 0;
            },
            delete_item: function (id) {
                var index = this.items.findIndex(function (item) {
                    if (item.id == id) {
                        return id;
                    }
                });
                this.items.splice(index);// splice 方法根据索引删除id
            }
        }
    })

</script>
</html>